<form [formGroup]="apartmentDataThirdForm"
      (ngSubmit)="submit()">
  <table class="table mt-4">
    <tbody>
      <tr>
        <td class="border-top-0 py-0 align-middle">{{ 'APARTMENT.EXTERNAL_ISOLATION' | translate }}</td>
        <td class="border-top-0 text-right pr-0">
          <label class="switch">
            <input type="checkbox"
                   formControlName="externalIsolation">
            <span class="slider round"></span>
          </label>
        </td>
      </tr>
      <ng-container *ngIf="apartmentDataThirdForm.get('externalIsolation').value">
        <tr>
          <td class="py-0 align-middle">{{ 'APARTMENT.BALCONY' | translate }}?</td>
          <td class="text-right pr-0">
            <label class="switch">
              <input type="checkbox"
                     formControlName="balcony"
                     (change)="changeBalcony()">
              <span class="slider round"></span>
            </label>
          </td>
        </tr>
        <tr *ngIf="balcony.value">
          <td class="py-0 align-middle">{{ 'APARTMENT.SIZE_OF_THE_BALCONY' | translate }}</td>
          <td class="text-right py-0 pr-0">
            <input type="number"
                   class="form-control border-0 text-right"
                   min="0"
                   inputmode="numeric"
                   pattern="[0-9]*"
                   formControlName="sizeOfBalcony">
            <div class="invalid-feedback d-block" *ngIf="apartmentDataThirdForm.get('sizeOfBalcony').invalid && (apartmentDataThirdForm.get('sizeOfBalcony').dirty || apartmentDataThirdForm.get('sizeOfBalcony').touched)">
              <span *ngIf="apartmentDataThirdForm.get('sizeOfBalcony').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
            </div>
          </td>
        </tr>
        <tr>
          <td class="py-0 align-middle">{{ 'APARTMENT.GARDEN' | translate }}?</td>
          <td class="text-right pr-0">
            <label class="switch">
              <input type="checkbox"
                     formControlName="garden"
                     (change)="changeGarden()">
              <span class="slider round"></span>
            </label>
          </td>
        </tr>
        <tr *ngIf="garden.value">
          <td class="py-0 align-middle">{{ 'APARTMENT.SIZE_OF_THE_GARDEN' | translate }}</td>
          <td class="text-right py-0 pr-0">
            <input type="number"
                   class="form-control border-0 text-right"
                   min="0"
                   inputmode="numeric"
                   pattern="[0-9]*"
                   formControlName="sizeOfGarden">
            <div class="invalid-feedback d-block" *ngIf="apartmentDataThirdForm.get('sizeOfGarden').invalid && (apartmentDataThirdForm.get('sizeOfGarden').dirty || apartmentDataThirdForm.get('sizeOfGarden').touched)">
              <span *ngIf="apartmentDataThirdForm.get('sizeOfGarden').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
            </div>
          </td>
        </tr>
        <tr>
          <td class="py-0 align-middle">{{ 'APARTMENT.TERRACE' | translate }}?</td>
          <td class="text-right pr-0">
            <label class="switch">
              <input type="checkbox"
                     formControlName="terrace"
                     (change)="changeTerrace()">
              <span class="slider round"></span>
            </label>
          </td>
        </tr>
        <tr *ngIf="terrace.value">
          <td class="py-0 align-middle">{{ 'APARTMENT.SIZE_OF_THE_TERRACE' | translate }}</td>
          <td class="text-right py-0 pr-0">
            <input type="number"
                   class="form-control border-0 text-right"
                   min="0"
                   inputmode="numeric"
                   pattern="[0-9]*"
                   formControlName="sizeOfTerrace">
            <div class="invalid-feedback d-block" *ngIf="apartmentDataThirdForm.get('sizeOfTerrace').invalid && (apartmentDataThirdForm.get('sizeOfTerrace').dirty || apartmentDataThirdForm.get('sizeOfTerrace').touched)">
              <span *ngIf="apartmentDataThirdForm.get('sizeOfTerrace').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
            </div>
          </td>
        </tr>
      </ng-container>
      <tr>
        <td class="py-0 align-middle">{{ 'APARTMENT.RENTAL_FEE' | translate }}</td>
        <td class="text-right py-0 pr-0">
          <input type="number"
                 class="form-control border-0 text-right"
                 min="0"
                 max="2000"
                 step="2"
                 inputmode="numeric"
                 pattern="[0-9]*"
                 formControlName="rentalFee">
          <div class="invalid-feedback d-block" *ngIf="apartmentDataThirdForm.get('rentalFee').invalid && (apartmentDataThirdForm.get('rentalFee').dirty || apartmentDataThirdForm.get('rentalFee').touched)">
            <span *ngIf="apartmentDataThirdForm.get('rentalFee').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
            <span *ngIf="apartmentDataThirdForm.get('rentalFee').errors.min || apartmentDataThirdForm.get('rentalFee').errors.max">
              {{ 'ERROR.BETWEEN_MIN_MAX' | translate }}
            </span>
          </div>
        </td>
      </tr>
      <tr>
        <td class="py-0 align-middle">{{ 'COMMON.OVERHEAD' | translate }}</td>
        <td class="text-right py-0 pr-0">
          <input type="number"
                 class="form-control border-0 text-right"
                 min="0"
                 max="2000"
                 step="1"
                 inputmode="numeric"
                 pattern="[0-9]*"
                 formControlName="overhead">
          <div class="invalid-feedback d-block" *ngIf="apartmentDataThirdForm.get('overhead').invalid && (apartmentDataThirdForm.get('overhead').dirty || apartmentDataThirdForm.get('overhead').touched)">
            <span *ngIf="apartmentDataThirdForm.get('overhead').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
            <span *ngIf="apartmentDataThirdForm.get('overhead').errors.min || apartmentDataThirdForm.get('overhead').errors.max">
              {{ 'ERROR.BETWEEN_MIN_MAX' | translate }}
            </span>
          </div>
        </td>
      </tr>
      <tr>
        <td class="py-0 align-middle">{{ 'APARTMENT.DEPOSIT' | translate }}</td>
        <td class="text-right py-0 pr-0">
          <input type="number"
                 class="form-control border-0 text-right"
                 min="0"
                 max="2000"
                 step="2"
                 inputmode="numeric"
                 pattern="[0-9]*"
                 formControlName="deposit">
          <div class="invalid-feedback d-block" *ngIf="apartmentDataThirdForm.get('deposit').invalid && (apartmentDataThirdForm.get('deposit').dirty || apartmentDataThirdForm.get('deposit').touched)">
            <span *ngIf="apartmentDataThirdForm.get('deposit').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
            <span *ngIf="apartmentDataThirdForm.get('deposit').errors.min || apartmentDataThirdForm.get('deposit').errors.max">
              {{ 'ERROR.BETWEEN_MIN_MAX' | translate }}
            </span>
          </div>
        </td>
      </tr>
      <tr>
        <td class="py-0 align-middle">{{ 'APARTMENT.MINIMUM_RENTING_TIME' | translate }} ({{ 'COMMON.MONTHS' | translate }})</td>
        <td class="text-right py-0 pr-0">
          <select class="custom-select border-0"
                  formControlName="minimumRentingTime">
            <option value="{{ i }}" *ngFor="let month of arrayNumber(121); let i = index">{{ i }}</option>
          </select>
          <div class="invalid-feedback d-block" *ngIf="apartmentDataThirdForm.get('minimumRentingTime').invalid && (apartmentDataThirdForm.get('minimumRentingTime').dirty || apartmentDataThirdForm.get('minimumRentingTime').touched)">
            <span *ngIf="apartmentDataThirdForm.get('minimumRentingTime').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
          </div>
        </td>
      </tr>
      <tr>
        <td class="border-bottom align-middle">{{ 'COMMON.DATE_OF_MOVING_IN' | translate }}</td>
        <td class="border-bottom text-right pr-0"
            formGroupName="dateOfMovingIn">
          <div class="d-flex align-items-center justify-content-end">
            <label for="right-now"
                   class="font-size-base font-weight-normal mb-0 mr-3">{{ 'COMMON.RIGHT_NOW' | translate }}</label>
            <label class="switch">
              <input type="checkbox"
                     id="right-now"
                     formControlName="rightNow"
                     (change)="changeRightNow()">
              <span class="slider round"></span>
            </label>
          </div>
          <div *ngIf="!rightNow.value">
            <input class="form-control text-right mt-2"
                   placeholder="yyyy-mm-dd"
                   ngbDatepicker
                   #d="ngbDatepicker"
                   (click)="d.toggle()"
                   formControlName="date">
          </div>
          <div class="invalid-feedback d-block" *ngIf="date.invalid && (date.dirty || date.touched)">
            <span *ngIf="date.errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</form>

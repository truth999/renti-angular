<form [formGroup]="apartmentDataFirstForm"
      (ngSubmit)="submit()">
  <div class="form-group mt-4">
    <input type="text"
           class="form-control"
           formControlName="name"
           placeholder="{{ 'APARTMENT.NAME' | translate }}:">
    <div class="invalid-feedback d-block" *ngIf="apartmentDataFirstForm.get('name').invalid && (apartmentDataFirstForm.get('name').dirty || apartmentDataFirstForm.get('name').touched)">
      <span *ngIf="apartmentDataFirstForm.get('name').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
    </div>
  </div>
  <div class="form-group">
    <input ngx-google-places-autocomplete
           class="form-control"
           (onAddressChange)="handleAddressChange($event)"
           formControlName="address"
           placeholder="{{ 'COMMON.ADDRESS' | translate }}:"
           (input)="search(apartmentDataFirstForm.get('address').value)">
    <div class="invalid-feedback d-block" *ngIf="apartmentDataFirstForm.get('address').invalid && (apartmentDataFirstForm.get('address').dirty || apartmentDataFirstForm.get('address').touched)">
      <span *ngIf="apartmentDataFirstForm.get('address').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
      <span *ngIf="apartmentDataFirstForm.get('address').errors.checkError">{{ 'ERROR.' + apartmentDataFirstForm.get('address').errors.errorMsg | translate }}</span>
    </div>
  </div>
  <table class="table mt-4">
    <tbody>
      <tr>
        <td class="border-top-0 py-0 align-middle">{{ 'APARTMENT.TYPE_OF_BUILDING' | translate }}</td>
        <td class="border-top-0 text-right py-0 pr-0">
          <select class="custom-select border-0"
                  formControlName="typeOfBuilding">
            <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
            <option value="brick">{{ 'APARTMENT.BRICK' | translate }}</option>
            <option value="panel">{{ 'APARTMENT.PANEL' | translate }}</option>
            <option value="loam">{{ 'APARTMENT.LOAM' | translate }}</option>
            <option value="other">{{ 'COMMON.OTHER' | translate }}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td class="py-0 align-middle">{{ 'APARTMENT.YEAR_OF_CONSTRUCTION' | translate }}</td>
        <td class="text-right py-0 pr-0">
          <select class="custom-select border-0"
                  formControlName="yearOfConstruction">
            <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
            <option *ngFor="let year of years" [value]="year">{{ year }}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td class="py-0 align-middle">{{ 'APARTMENT.STATE_OF_APARTMENT' | translate }}</td>
        <td class="text-right py-0 pr-0">
          <select class="custom-select border-0"
                  formControlName="stateOfApartment">
            <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
            <option value="new">{{ 'COMMON.NEW' | translate }}</option>
            <option value="good">{{ 'COMMON.GOOD' | translate }}</option>
            <option value="normal">{{ 'COMMON.NORMAL' | translate }}</option>
            <option value="renovation">{{ 'COMMON.RENOVATION' | translate }}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td class="py-0 align-middle">{{ 'APARTMENT.ENERGY_PERFORMANCE_CERTIFICATE' | translate }}</td>
        <td class="text-right py-0 pr-0">
          <select class="custom-select border-0"
                  formControlName="energyPerformanceCertificate">
            <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
            <option value="aapp">AA++</option>
            <option value="aap">AA+</option>
            <option value="aa">AA</option>
            <option value="bb">BB</option>
            <option value="cc">CC</option>
            <option value="dd">DD</option>
            <option value="ee">EE</option>
            <option value="ff">FF</option>
            <option value="gg">GG</option>
            <option value="hh">HH</option>
            <option value="ii">II</option>
            <option value="jj">JJ</option>
          </select>
        </td>
      </tr>
      <tr>
        <td class="py-0 align-middle">{{ 'APARTMENT.FLOORS_OF_THE_BUILDING' | translate }}</td>
        <td class="text-right py-0 pr-0">
          <input type="number"
                 class="form-control border-0 text-right"
                 min="1"
                 max="100"
                 step="1"
                 inputmode="numeric"
                 pattern="[0-9]*"
                 formControlName="floorsOfBuilding">
          <div class="invalid-feedback d-block" *ngIf="apartmentDataFirstForm.get('floorsOfBuilding').invalid && (apartmentDataFirstForm.get('floorsOfBuilding').dirty || apartmentDataFirstForm.get('floorsOfBuilding').touched)">
            <span *ngIf="apartmentDataFirstForm.get('floorsOfBuilding').errors.min"
                  translate [translateParams]="{ min: apartmentDataFirstForm.get('floorsOfBuilding').errors.min.min }">
              ERROR.MIN_FIELD
            </span>
            <span *ngIf="apartmentDataFirstForm.get('floorsOfBuilding').errors.max"
                  translate [translateParams]="{ max: apartmentDataFirstForm.get('floorsOfBuilding').errors.max.max }">
              ERROR.MAX_FIELD
            </span>
          </div>
        </td>
      </tr>
      <tr>
        <td class="py-0 align-middle">{{ 'APARTMENT.FLOOR_OF_THE_APARTMENT' | translate }}</td>
        <td class="text-right py-0 pr-0">
          <input type="number"
                 class="form-control border-0 text-right"
                 min="1"
                 max="100"
                 step="1"
                 inputmode="numeric"
                 pattern="[0-9]*"
                 formControlName="floorsOfApartment">
          <div class="invalid-feedback d-block" *ngIf="apartmentDataFirstForm.get('floorsOfApartment').invalid && (apartmentDataFirstForm.get('floorsOfApartment').dirty || apartmentDataFirstForm.get('floorsOfApartment').touched)">
            <span *ngIf="apartmentDataFirstForm.get('floorsOfApartment').errors.maxError">{{ 'ERROR.FLOORS_COMPARE' | translate }}</span>
            <span *ngIf="apartmentDataFirstForm.get('floorsOfApartment').errors.min"
                  translate [translateParams]="{ min: apartmentDataFirstForm.get('floorsOfApartment').errors.min.min }">
              ERROR.MIN_FIELD
            </span>
            <span *ngIf="apartmentDataFirstForm.get('floorsOfApartment').errors.max"
                  translate [translateParams]="{ max: apartmentDataFirstForm.get('floorsOfApartment').errors.max.max }">
              ERROR.MAX_FIELD
            </span>
          </div>
        </td>
      </tr>
      <tr>
        <td class="py-0 align-middle">{{ 'APARTMENT.SIZE_OF_THE_APARTMENT' | translate }} (m<sup>2</sup>)</td>
        <td class="text-right py-0 pr-0">
          <input type="number"
                 class="form-control border-0 text-right"
                 min="1"
                 max="9999"
                 step="1"
                 inputmode="numeric"
                 pattern="[0-9]*"
                 formControlName="size">
          <div class="invalid-feedback d-block" *ngIf="apartmentDataFirstForm.get('size').invalid && (apartmentDataFirstForm.get('size').dirty || apartmentDataFirstForm.get('size').touched)">
            <span *ngIf="apartmentDataFirstForm.get('size').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
            <span *ngIf="apartmentDataFirstForm.get('size').errors.min"
                  translate [translateParams]="{ min: apartmentDataFirstForm.get('size').errors.min.min }">
              ERROR.MIN_FIELD
            </span>
            <span *ngIf="apartmentDataFirstForm.get('size').errors.max"
                  translate [translateParams]="{ max: apartmentDataFirstForm.get('size').errors.max.max }">
              ERROR.MAX_FIELD
            </span>
          </div>
        </td>
      </tr>
      <tr>
        <td class="py-0 align-middle">{{ 'APARTMENT.ELEVATOR' | translate }}?</td>
        <td class="text-right pr-0">
          <div class="switch">
            <input type="radio"
                   id="elevator-no"
                   [value]="false"
                   formControlName="elevator">
            <label for="elevator-no">{{ 'COMMON.NO' | translate }}</label>
            <input type="radio"
                   id="elevator-na"
                   [value]="null"
                   formControlName="elevator">
            <label for="elevator-na">{{ 'COMMON.NA' | translate }}</label>
            <input type="radio"
                   id="elevator-yes"
                   [value]="true"
                   formControlName="elevator">
            <label for="elevator-yes">{{ 'COMMON.YES' | translate }}</label>
            <span class="slider"></span>
          </div>
        </td>
      </tr>
      <tr>
        <td class="py-0 align-middle">{{ 'APARTMENT.ROOFTOP' | translate }}?</td>
        <td class="text-right pr-0">
          <div class="switch">
            <input type="radio"
                   id="rooftop-no"
                   [value]="false"
                   formControlName="rooftop">
            <label for="rooftop-no">{{ 'COMMON.NO' | translate }}</label>
            <input type="radio"
                   id="rooftop-na"
                   [value]="null"
                   formControlName="rooftop">
            <label for="rooftop-na">{{ 'COMMON.NA' | translate }}</label>
            <input type="radio"
                   id="rooftop-yes"
                   [value]="true"
                   formControlName="rooftop">
            <label for="rooftop-yes">{{ 'COMMON.YES' | translate }}</label>
            <span class="slider"></span>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</form>

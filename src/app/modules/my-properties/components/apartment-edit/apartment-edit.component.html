<div class="apartment-edit">
  <div class="back mb-4 mt-3 mt-sm-0">
    <button type="button"
            class="btn btn-back d-sm-block d-none"
            (click)="onBack()">
      <i class="icon-left h4 align-middle mb-0"></i>
      {{ 'COMMON.BACK' | translate }}
    </button>
    <i class="icon-left-circle d-sm-none"
       (click)="onBack()"></i>
  </div>
  <div class="card"
       *ngIf="apartmentForm">
    <div class="card-body">
      <form [formGroup]="apartmentForm"
            (ngSubmit)="submit()">
        <div class="row">
          <div class="col-lg-6">
            <div class="apartment-image mt-2 mb-4">
              <input type="file"
                     #picturesChooser
                     style="display: none;"
                     accept="image/png, image/jpeg, image/jpg"
                     multiple
                     (change)="onFilesChange($event)">
              <div class="row mb-2">
                <div class="col-lg-3 col-md-4 col-sm-3 col-4 position-relative pb-4"
                     *ngFor="let picture of pictures.controls; let i = index">
                  <div class="img-item position-relative">
                    <img [src]="uploadBase + picture.value"
                         class="position-absolute rounded w-100 h-100">
                    <div class="default d-flex align-items-center justify-content-center position-absolute text-center rounded py-2"
                         *ngIf="picture.value !== apartmentForm.get('setAsPicture').value"
                         (click)="setAsPicture(picture.value)">
                      {{ 'COMMON.SET_AS_DEFAULT' | translate }}
                    </div>
                  </div>
                  <i class="icon-check-circle position-absolute text-success"
                     *ngIf="picture.value === apartmentForm.get('setAsPicture').value"></i>
                  <i class="icon-delete position-absolute text-danger"
                     (click)="removeApartmentPicture(i)"></i>
                </div>
              </div>
              <button type="button"
                      class="btn btn-primary btn-lg w-100"
                      (click)="picturesChooser.click()">{{ 'COMMON.UPLOAD_FROM_GALLERY' | translate }}</button>
            </div>
            <div class="d-block d-lg-none">
              <div class="form-group">
                <label for="name1"
                       class="h5 font-weight-bolder">{{ 'APARTMENT.NAME' | translate }}:</label>
                <input type="text"
                       id="name1"
                       class="form-control"
                       formControlName="name">
                <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('name').invalid && (apartmentForm.get('name').dirty || apartmentForm.get('name').touched)">
                  <span *ngIf="apartmentForm.get('name').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
                </div>
              </div>
              <div class="unit d-flex justify-content-between">
                <span class="square font-weight-bold">
                  <i class="icon-fullscreen"></i>
                  {{ apartmentForm.get('size').value }}m<sup>2</sup>
                </span>
                <span class="unit-rooms font-weight-bold">
                  <i class="icon-bed"></i>
                  {{ apartment.rooms.length }} {{ 'COMMON.ROOMS' | translate }}
                </span>
              </div>
              <div class="form-group pt-4 address"
                   formGroupName="address">
                <label for="address1"
                       class="h5 font-weight-bolder">{{ 'COMMON.ADDRESS' | translate }}:</label>
                <input ngx-google-places-autocomplete
                       id="address1"
                       class="form-control"
                       [options]="placeOptions"
                       (onAddressChange)="handleAddressChange($event)"
                       formControlName="city"
                       placeholder="{{ 'COMMON.ENTER_LOCATION' | translate }}"
                       (input)="search(apartmentForm.get('address').value)">
                <div class="d-flex mt-2">
                  <div class="form-group mr-2 mb-0"
                       style="flex: 1;">
                    <label for="building1"
                           class="font-size-base">{{ 'APARTMENT.BUILDING' | translate }}</label>
                    <select class="custom-select"
                            id="building1"
                            formControlName="building"
                            (change)="search(apartmentForm.get('address').value)">
                      <option [ngValue]="null">-</option>
                      <option *ngFor="let char of arrayChar()"
                              [value]="char">{{ char }}</option>
                      <option *ngFor="let building of arrayNumber(50); let i = index"
                              [value]="i + 1">{{ i + 1 }}</option>
                    </select>
                  </div>
                  <div class="form-group mr-2 mb-0"
                       style="flex: 1;">
                    <label for="floor1"
                           class="font-size-base">{{ 'APARTMENT.FLOOR' | translate }}</label>
                    <select class="custom-select"
                            id="floor1"
                            formControlName="floor"
                            (change)="search(apartmentForm.get('address').value)">
                      <option [ngValue]="null">-</option>
                      <option *ngFor="let floor of arrayNumber(101); let i = index"
                              [value]="i">{{ i }}</option>
                    </select>
                  </div>
                  <div class="form-group mb-0"
                       style="flex: 1;">
                    <label for="door1"
                           class="font-size-base">{{ 'APARTMENT.DOOR' | translate }}</label>
                    <select class="custom-select"
                            id="door1"
                            formControlName="door"
                            (change)="search(apartmentForm.get('address').value)">
                      <option [ngValue]="null">-</option>
                      <option *ngFor="let door of arrayNumber(100); let i = index"
                              [value]="i + 1">{{ i + 1 }}</option>
                    </select>
                  </div>
                </div>
                <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('address').invalid && (apartmentForm.get('address').dirty || apartmentForm.get('address').touched)">
                  <span *ngIf="apartmentForm.get('address').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
                  <span *ngIf="apartmentForm.get('address').errors.checkError">{{ 'ERROR.' + apartmentForm.get('address').errors.errorMsg | translate }}</span>
                </div>
              </div>
              <div class="save">
                <button type="submit"
                        class="btn btn-outline-primary btn-lg w-100">{{ 'COMMON.SAVE' | translate }}</button>
              </div>
            </div>
            <div class="rooms mt-4">
              <h3>{{ 'COMMON.ROOMS' | translate }}</h3>
              <div class="draw-room row"
                   *ngIf="apartment.draw && apartment.draw.updatedDraw">
                <div class="col-sm-9">
                  <img [src]="uploadBase + apartment.draw.updatedDraw"
                       width="100%"
                       alt="">
                </div>
              </div>
              <ul class="list-unstyled mt-3">
                <li class="font-weight-bold my-1"
                    *ngFor="let room of apartment.rooms; let i = index">
                  <a [routerLink]="['room', room._id, 'edit']">
                    {{ i + 1 }}: {{ room.name }}
                  </a>
                </li>
              </ul>
              <a href="javascript:void(0)"
                 (click)="onOpenFloorPlanModal()">{{ 'COMMON.EDIT_FLOOR_PLAN' | translate }}</a>
              <router-outlet></router-outlet>
            </div>
            <div class="d-block d-lg-none">
              <table class="table mt-4">
                <tr>
                  <td class="border-top-0 py-0 align-middle">{{ 'APARTMENT.TYPE_OF_BUILDING' | translate }}</td>
                  <td class="border-top-0 text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="typeOfBuilding">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.typeOfBuilding)"
                              [value]="key">{{ apartmentConfig.typeOfBuilding[key] | translate }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.YEAR_OF_CONSTRUCTION' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="yearOfConstruction">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let year of years"
                              [value]="year">{{ year }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.STATE_OF_APARTMENT' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="stateOfApartment">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.stateOfApartment)"
                              [value]="key">{{ apartmentConfig.stateOfApartment[key] | translate }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.ENERGY_PERFORMANCE_CERTIFICATE' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="energyPerformanceCertificate">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.energyPerformanceCertificate)"
                              [value]="key">{{ apartmentConfig.energyPerformanceCertificate[key] }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.FLOORS_OF_THE_BUILDING' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="0"
                           max="100"
                           step="1"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="floorsOfBuilding">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('floorsOfBuilding').invalid && (apartmentForm.get('floorsOfBuilding').dirty || apartmentForm.get('floorsOfBuilding').touched)">
                      <span *ngIf="apartmentForm.get('floorsOfBuilding').errors.min"
                            translate
                            [translateParams]="{ min: apartmentForm.get('floorsOfBuilding').errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('floorsOfBuilding').errors.max"
                            translate
                            [translateParams]="{ max: apartmentForm.get('floorsOfBuilding').errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('floorsOfBuilding').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.FLOOR_OF_THE_APARTMENT' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="0"
                           max="100"
                           step="1"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="floorsOfApartment">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('floorsOfApartment').invalid && (apartmentForm.get('floorsOfApartment').dirty || apartmentForm.get('floorsOfApartment').touched)">
                      <span *ngIf="apartmentForm.get('floorsOfApartment').errors.maxError">{{ 'ERROR.FLOORS_COMPARE' | translate }}</span>
                      <span *ngIf="apartmentForm.get('floorsOfApartment').errors.min"
                            translate
                            [translateParams]="{ min: apartmentForm.get('floorsOfApartment').errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('floorsOfApartment').errors.max"
                            translate
                            [translateParams]="{ max: apartmentForm.get('floorsOfApartment').errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('floorsOfApartment').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="border-bottom py-0 align-middle">{{ 'APARTMENT.SIZE_OF_THE_APARTMENT' | translate }} (m<sup>2</sup>)</td>
                  <td class="border-bottom text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="1"
                           max="9999"
                           step="1"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="size">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('size').invalid && (apartmentForm.get('size').dirty || apartmentForm.get('size').touched)">
                      <span *ngIf="apartmentForm.get('size').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
                      <span *ngIf="apartmentForm.get('size').errors.min"
                            translate
                            [translateParams]="{ min: apartmentForm.get('size').errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('size').errors.max"
                            translate
                            [translateParams]="{ max: apartmentForm.get('size').errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('size').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
              </table>
              <table class="table mt-5">
                <tr>
                  <td class="border-top-0 py-0 align-middle">{{ 'APARTMENT.ELEVATOR' | translate }}</td>
                  <td class="border-top-0 text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="elevator1-no"
                             [value]="false"
                             formControlName="elevator">
                      <label for="elevator1-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="elevator1-na"
                             [value]="null"
                             formControlName="elevator">
                      <label for="elevator1-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="elevator1-yes"
                             [value]="true"
                             formControlName="elevator">
                      <label for="elevator1-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.ROOFTOP' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="rooftop1-no"
                             [value]="false"
                             formControlName="rooftop">
                      <label for="rooftop1-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="rooftop1-na"
                             [value]="null"
                             formControlName="rooftop">
                      <label for="rooftop1-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="rooftop1-yes"
                             [value]="true"
                             formControlName="rooftop">
                      <label for="rooftop1-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.BUILDING_SITING' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="buildingSiting">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.buildingSiting)"
                              [value]="key">{{ apartmentConfig.buildingSiting[key] | translate }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.TYPE_OF_HEATING' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="typeOfHeating">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.typeOfHeating)"
                              [value]="key">{{ apartmentConfig.typeOfHeating[key] | translate }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.HEADROOM' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="headroom">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.headroom)"
                              [value]="key">{{ apartmentConfig.headroom[key] }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.PARKING' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="parking">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.parking)"
                              [value]="key">{{ apartmentConfig.parking[key] | translate }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.WINDOW_TYPE' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="windowType">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.windowType)"
                              [value]="key">{{ apartmentConfig.windowType[key] | translate }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'SEARCH.FURNISHED' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="furnished1-no"
                             [value]="false"
                             formControlName="furnished">
                      <label for="furnished1-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="furnished1-na"
                             [value]="null"
                             formControlName="furnished">
                      <label for="furnished1-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="furnished1-yes"
                             [value]="true"
                             formControlName="furnished">
                      <label for="furnished1-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.CHILD_FRIENDLY' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="childFriendly1-no"
                             [value]="false"
                             formControlName="childFriendly">
                      <label for="childFriendly1-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="childFriendly1-na"
                             [value]="null"
                             formControlName="childFriendly">
                      <label for="childFriendly1-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="childFriendly1-yes"
                             [value]="true"
                             formControlName="childFriendly">
                      <label for="childFriendly1-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.PET_FRIENDLY' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="petFriendly1-no"
                             [value]="false"
                             formControlName="petFriendly">
                      <label for="petFriendly1-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="petFriendly1-na"
                             [value]="null"
                             formControlName="petFriendly">
                      <label for="petFriendly1-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="petFriendly1-yes"
                             [value]="true"
                             formControlName="petFriendly">
                      <label for="petFriendly1-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.AVAILABLE_MEDIA_SERVICE_PROVIDERS' | translate }}</td>
                  <td class="text-right py-0 pr-0 w-50">
                    <ng-select [multiple]="true"
                               [closeOnSelect]="false"
                               formControlName="mediaServiceProviders">
                      <ng-option *ngFor="let item of Object.values(apartmentConfig.availableMediaServiceProviders) | selectTranslate | async | keyvalue: keepOrder"
                                 [value]="[apartmentConfig.availableMediaServiceProviders, item.key] | valueToKey">{{ item.value }}</ng-option>
                    </ng-select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.HANDICAP_ACCESSIBLE' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="handicapAccessible1-no"
                             [value]="false"
                             formControlName="handicapAccessible">
                      <label for="handicapAccessible1-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="handicapAccessible1-na"
                             [value]="null"
                             formControlName="handicapAccessible">
                      <label for="handicapAccessible1-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="handicapAccessible1-yes"
                             [value]="true"
                             formControlName="handicapAccessible">
                      <label for="handicapAccessible1-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.EXTERNAL_ISOLATION' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="externalIsolation1-no"
                             [value]="false"
                             formControlName="externalIsolation">
                      <label for="externalIsolation1-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="externalIsolation1-na"
                             [value]="null"
                             formControlName="externalIsolation">
                      <label for="externalIsolation1-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="externalIsolation1-yes"
                             [value]="true"
                             formControlName="externalIsolation">
                      <label for="externalIsolation1-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.BALCONY' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="balcony1-no"
                             [value]="false"
                             formControlName="balcony"
                             (change)="onChangeBalcony()">
                      <label for="balcony1-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="balcony1-na"
                             [value]="null"
                             formControlName="balcony"
                             (change)="onChangeBalcony()">
                      <label for="balcony1-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="balcony1-yes"
                             [value]="true"
                             formControlName="balcony"
                             (change)="onChangeBalcony()">
                      <label for="balcony1-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr *ngIf="balcony.value">
                  <td class="py-0 align-middle">{{ 'APARTMENT.SIZE_OF_THE_BALCONY' | translate }} (m<sup>2</sup>)</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="0"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="sizeOfBalcony">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('sizeOfBalcony').invalid && (apartmentForm.get('sizeOfBalcony').dirty || apartmentForm.get('sizeOfBalcony').touched)">
                      <span *ngIf="apartmentForm.get('sizeOfBalcony').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.GARDEN' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="garden1-no"
                             [value]="false"
                             formControlName="garden"
                             (change)="onChangeGarden()">
                      <label for="garden1-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="garden1-na"
                             [value]="null"
                             formControlName="garden"
                             (change)="onChangeGarden()">
                      <label for="garden1-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="garden1-yes"
                             [value]="true"
                             formControlName="garden"
                             (change)="onChangeGarden()">
                      <label for="garden1-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr *ngIf="garden.value">
                  <td class="py-0 align-middle">{{ 'APARTMENT.SIZE_OF_THE_GARDEN' | translate }} (m<sup>2</sup>)</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="0"
                           max="5000"
                           step="1"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="sizeOfGarden">
                    <div class="invalid-feedback d-block" *ngIf="sizeOfGarden.invalid && (sizeOfGarden.dirty || sizeOfGarden.touched)">
                      <span *ngIf="sizeOfGarden.errors.min"
                            translate
                            [translateParams]="{ min: sizeOfGarden.errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="sizeOfGarden.errors.max"
                            translate
                            [translateParams]="{ max: sizeOfGarden.errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="sizeOfGarden.errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.TERRACE' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="terrace1-no"
                             [value]="false"
                             formControlName="terrace"
                             (change)="onChangeTerrace()">
                      <label for="terrace1-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="terrace1-na"
                             [value]="null"
                             formControlName="terrace"
                             (change)="onChangeTerrace()">
                      <label for="terrace1-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="terrace1-yes"
                             [value]="true"
                             formControlName="terrace"
                             (change)="onChangeTerrace()">
                      <label for="terrace1-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr *ngIf="terrace.value">
                  <td class="py-0 align-middle">{{ 'APARTMENT.SIZE_OF_THE_TERRACE' | translate }} (m<sup>2</sup>)</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="1"
                           max="100"
                           step="1"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="sizeOfTerrace">
                    <div class="invalid-feedback d-block" *ngIf="sizeOfTerrace.invalid && (sizeOfTerrace.dirty || sizeOfTerrace.touched)">
                      <span *ngIf="sizeOfTerrace.errors.min"
                            translate
                            [translateParams]="{ min: sizeOfTerrace.errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="sizeOfTerrace.errors.max"
                            translate
                            [translateParams]="{ max: sizeOfTerrace.errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="sizeOfTerrace.errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.AIRCONDITIONER' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="airConditioner1-no"
                             [value]="false"
                             formControlName="airConditioner">
                      <label for="airConditioner1-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="airConditioner1-na"
                             [value]="null"
                             formControlName="airConditioner">
                      <label for="airConditioner1-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="airConditioner1-yes"
                             [value]="true"
                             formControlName="airConditioner">
                      <label for="airConditioner1-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="border-bottom py-0 align-middle">{{ 'APARTMENT.GARAGE' | translate }}</td>
                  <td class="border-bottom text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="garage1-no"
                             [value]="false"
                             formControlName="garage">
                      <label for="garage1-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="garage1-na"
                             [value]="null"
                             formControlName="garage">
                      <label for="garage1-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="garage1-yes"
                             [value]="true"
                             formControlName="garage">
                      <label for="garage1-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
              </table>
              <table class="table mt-5">
                <tr>
                  <td class="border-top-0 py-0 align-middle">{{ 'APARTMENT.RENTAL_FEE' | translate }}</td>
                  <td class="border-top-0 text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="0"
                           max="2000000"
                           step="1000"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="rentalFee">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('rentalFee').invalid && (apartmentForm.get('rentalFee').dirty || apartmentForm.get('rentalFee').touched)">
                      <span *ngIf="apartmentForm.get('rentalFee').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
                      <span *ngIf="apartmentForm.get('rentalFee').errors.min"
                            translate [translateParams]="{ min: apartmentForm.get('rentalFee').errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('rentalFee').errors.max"
                            translate [translateParams]="{ max: apartmentForm.get('rentalFee').errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('rentalFee').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'COMMON.OVERHEAD' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="0"
                           max="1000000"
                           step="1000"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="overhead">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('overhead').invalid && (apartmentForm.get('overhead').dirty || apartmentForm.get('overhead').touched)">
                      <span *ngIf="apartmentForm.get('overhead').errors.min"
                            translate [translateParams]="{ min: apartmentForm.get('overhead').errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('overhead').errors.max"
                            translate [translateParams]="{ max: apartmentForm.get('overhead').errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('overhead').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.DEPOSIT' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="0"
                           max="2000000"
                           step="1000"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="deposit">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('deposit').invalid && (apartmentForm.get('deposit').dirty || apartmentForm.get('deposit').touched)">
                      <span *ngIf="apartmentForm.get('deposit').errors.min"
                            translate [translateParams]="{ min: apartmentForm.get('deposit').errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('deposit').errors.max"
                            translate [translateParams]="{ max: apartmentForm.get('deposit').errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('deposit').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.MINIMUM_RENTING_TIME' | translate }} ({{ 'COMMON.MONTHS' | translate }})</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="minimumRentingTime">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let month of arrayNumber(121); let i = index"
                              [value]="i">{{ i }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="border-bottom align-middle">{{ 'COMMON.DATE_OF_MOVING_IN' | translate }}</td>
                  <td class="border-bottom text-right pr-0" formGroupName="dateOfMovingIn">
                    <div>
                      <label class="font-size-base font-weight-normal mb-1">{{ 'COMMON.RIGHT_NOW' | translate }}</label>
                      <label class="switch-toggle">
                        <input type="checkbox"
                               formControlName="rightNow"
                               (change)="onChangeRightNow()">
                        <span class="slider round"></span>
                      </label>
                    </div>
                    <div *ngIf="!rightNow.value">
                      <input class="form-control text-right mt-2"
                             placeholder="{{ 'COMMON.YMD' | translate }}"
                             ngbDatepicker
                             #d="ngbDatepicker"
                             (click)="d.toggle()"
                             formControlName="date">
                    </div>
                  </td>
                </tr>
              </table>
              <div class="buttons">
                <button type="submit"
                        class="btn btn-outline-primary btn-lg w-100">{{ 'COMMON.SAVE' | translate }}</button>
                <button type="button"
                        class="btn btn-outline-danger btn-lg w-100 mt-2"
                        (click)="onOpenConfirmModal()">{{ 'COMMON.DELETE' | translate }}</button>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="d-lg-block d-none">
              <div class="form-group">
                <label for="name"
                       class="h5 font-weight-bolder">{{ 'APARTMENT.NAME' | translate }}:</label>
                <input type="text"
                       id="name"
                       class="form-control"
                       formControlName="name">
                <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('name').invalid && (apartmentForm.get('name').dirty || apartmentForm.get('name').touched)">
                  <span *ngIf="apartmentForm.get('name').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
                </div>
              </div>
              <div class="unit d-flex justify-content-between">
                <span class="square font-weight-bold">
                  <i class="icon-fullscreen"></i>
                  {{ apartmentForm.get('size').value }}m<sup>2</sup>
                </span>
                <span class="unit-rooms font-weight-bold">
                  <i class="icon-bed"></i>
                  {{ apartment.rooms.length }} {{ 'COMMON.ROOMS' | translate }}
                </span>
              </div>
              <div class="form-group pt-4 position-relative address"
                   formGroupName="address">
                <label for="address"
                       class="h5 font-weight-bolder">{{ 'COMMON.ADDRESS' | translate }}:</label>
                <input ngx-google-places-autocomplete
                       id="address"
                       class="form-control"
                       [options]="placeOptions"
                       (onAddressChange)="handleAddressChange($event)"
                       formControlName="city"
                       placeholder="{{ 'COMMON.ENTER_LOCATION' | translate }}"
                       (input)="search(apartmentForm.get('address').value)">
                <div class="d-flex mt-2">
                  <div class="form-group mr-2 mb-0"
                       style="flex: 1;">
                    <label for="building"
                           class="font-size-base">{{ 'APARTMENT.BUILDING' | translate }}</label>
                    <select class="custom-select"
                            id="building"
                            formControlName="building"
                            (change)="search(apartmentForm.get('address').value)">
                      <option [ngValue]="null">-</option>
                      <option *ngFor="let char of arrayChar()"
                              [value]="char">{{ char }}</option>
                      <option *ngFor="let building of arrayNumber(50); let i = index"
                              [value]="i + 1">{{ i + 1 }}</option>
                    </select>
                  </div>
                  <div class="form-group mr-2 mb-0"
                       style="flex: 1;">
                    <label for="floor"
                           class="font-size-base">{{ 'APARTMENT.FLOOR' | translate }}</label>
                    <select class="custom-select"
                            id="floor"
                            formControlName="floor"
                            (change)="search(apartmentForm.get('address').value)">
                      <option [ngValue]="null">-</option>
                      <option *ngFor="let floor of arrayNumber(101); let i = index"
                              [value]="i">{{ i }}</option>
                    </select>
                  </div>
                  <div class="form-group mb-0"
                       style="flex: 1;">
                    <label for="door"
                           class="font-size-base">{{ 'APARTMENT.DOOR' | translate }}</label>
                    <select class="custom-select"
                            id="door"
                            formControlName="door"
                            (change)="search(apartmentForm.get('address').value)">
                      <option [ngValue]="null">-</option>
                      <option *ngFor="let door of arrayNumber(100); let i = index"
                              [value]="i + 1">{{ i + 1 }}</option>
                    </select>
                  </div>
                </div>
                <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('address').invalid && (apartmentForm.get('address').dirty || apartmentForm.get('address').touched)">
                  <span *ngIf="apartmentForm.get('address').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
                  <span *ngIf="apartmentForm.get('address').errors.checkError">{{ 'ERROR.' + apartmentForm.get('address').errors.errorMsg | translate }}</span>
                </div>
              </div>
              <div class="save">
                <button type="submit"
                        class="btn btn-outline-primary btn-lg w-100">{{ 'COMMON.SAVE' | translate }}</button>
              </div>
              <table class="table mt-4">
                <tr>
                  <td class="border-top-0 py-0 align-middle">{{ 'APARTMENT.TYPE_OF_BUILDING' | translate }}</td>
                  <td class="border-top-0 text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="typeOfBuilding">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.typeOfBuilding)"
                              [value]="key">{{ apartmentConfig.typeOfBuilding[key] | translate }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.YEAR_OF_CONSTRUCTION' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="yearOfConstruction">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let year of years"
                              [value]="year">{{ year }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.STATE_OF_APARTMENT' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="stateOfApartment">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.stateOfApartment)"
                              [value]="key">{{ apartmentConfig.stateOfApartment[key] | translate }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.ENERGY_PERFORMANCE_CERTIFICATE' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="energyPerformanceCertificate">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.energyPerformanceCertificate)"
                              [value]="key">{{ apartmentConfig.energyPerformanceCertificate[key] }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.FLOORS_OF_THE_BUILDING' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="0"
                           max="100"
                           step="1"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="floorsOfBuilding">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('floorsOfBuilding').invalid && (apartmentForm.get('floorsOfBuilding').dirty || apartmentForm.get('floorsOfBuilding').touched)">
                      <span *ngIf="apartmentForm.get('floorsOfBuilding').errors.min"
                            translate
                            [translateParams]="{ min: apartmentForm.get('floorsOfBuilding').errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('floorsOfBuilding').errors.max"
                            translate
                            [translateParams]="{ max: apartmentForm.get('floorsOfBuilding').errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('floorsOfBuilding').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.FLOOR_OF_THE_APARTMENT' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="0"
                           max="100"
                           step="1"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="floorsOfApartment">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('floorsOfApartment').invalid && (apartmentForm.get('floorsOfApartment').dirty || apartmentForm.get('floorsOfApartment').touched)">
                      <span *ngIf="apartmentForm.get('floorsOfApartment').errors.maxError">{{ 'ERROR.FLOORS_COMPARE' | translate }}</span>
                      <span *ngIf="apartmentForm.get('floorsOfApartment').errors.min"
                            translate
                            [translateParams]="{ min: apartmentForm.get('floorsOfApartment').errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('floorsOfApartment').errors.max"
                            translate
                            [translateParams]="{ max: apartmentForm.get('floorsOfApartment').errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('floorsOfApartment').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="border-bottom py-0 align-middle">{{ 'APARTMENT.SIZE_OF_THE_APARTMENT' | translate }} (m<sup>2</sup>)</td>
                  <td class="border-bottom text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="1"
                           max="9999"
                           step="1"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="size">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('size').invalid && (apartmentForm.get('size').dirty || apartmentForm.get('size').touched)">
                      <span *ngIf="apartmentForm.get('size').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
                      <span *ngIf="apartmentForm.get('size').errors.min"
                            translate
                            [translateParams]="{ min: apartmentForm.get('size').errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('size').errors.max"
                            translate
                            [translateParams]="{ max: apartmentForm.get('size').errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('size').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
              </table>
              <table class="table mt-5">
                <tr>
                  <td class="border-top-0 py-0 align-middle">{{ 'APARTMENT.ELEVATOR' | translate }}</td>
                  <td class="border-top-0 text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="elevator-no"
                             [value]="false"
                             formControlName="elevator">
                      <label for="elevator-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="elevator-na"
                             [value]="null"
                             formControlName="elevator">
                      <label for="elevator-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="elevator-yes"
                             [value]="true"
                             formControlName="elevator">
                      <label for="elevator-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.ROOFTOP' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="rooftop-no"
                             [value]="false"
                             formControlName="rooftop">
                      <label for="rooftop-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="rooftop-na"
                             [value]="null"
                             formControlName="rooftop">
                      <label for="rooftop-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="rooftop-yes"
                             [value]="true"
                             formControlName="rooftop">
                      <label for="rooftop-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.BUILDING_SITING' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="buildingSiting">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.buildingSiting)"
                              [value]="key">{{ apartmentConfig.buildingSiting[key] | translate }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.TYPE_OF_HEATING' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="typeOfHeating">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.typeOfHeating)"
                              [value]="key">{{ apartmentConfig.typeOfHeating[key] | translate }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.HEADROOM' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="headroom">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.headroom)"
                              [value]="key">{{ apartmentConfig.headroom[key] }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.PARKING' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="parking">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.parking)"
                              [value]="key">{{ apartmentConfig.parking[key] | translate }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.WINDOW_TYPE' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="windowType">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let key of Object.keys(apartmentConfig.windowType)"
                              [value]="key">{{ apartmentConfig.windowType[key] | translate }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'SEARCH.FURNISHED' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="furnished-no"
                             [value]="false"
                             formControlName="furnished">
                      <label for="furnished-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="furnished-na"
                             [value]="null"
                             formControlName="furnished">
                      <label for="furnished-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="furnished-yes"
                             [value]="true"
                             formControlName="furnished">
                      <label for="furnished-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.CHILD_FRIENDLY' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="childFriendly-no"
                             [value]="false"
                             formControlName="childFriendly">
                      <label for="childFriendly-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="childFriendly-na"
                             [value]="null"
                             formControlName="childFriendly">
                      <label for="childFriendly-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="childFriendly-yes"
                             [value]="true"
                             formControlName="childFriendly">
                      <label for="childFriendly-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.PET_FRIENDLY' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="petFriendly-no"
                             [value]="false"
                             formControlName="petFriendly">
                      <label for="petFriendly-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="petFriendly-na"
                             [value]="null"
                             formControlName="petFriendly">
                      <label for="petFriendly-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="petFriendly-yes"
                             [value]="true"
                             formControlName="petFriendly">
                      <label for="petFriendly-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.AVAILABLE_MEDIA_SERVICE_PROVIDERS' | translate }}</td>
                  <td class="text-right py-0 pr-0 w-50">
                    <ng-select [multiple]="true"
                               [closeOnSelect]="false"
                               formControlName="mediaServiceProviders">
                      <ng-option *ngFor="let item of Object.values(apartmentConfig.availableMediaServiceProviders) | selectTranslate | async | keyvalue: keepOrder"
                                 [value]="[apartmentConfig.availableMediaServiceProviders, item.key] | valueToKey">{{ item.value }}</ng-option>
                    </ng-select>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.HANDICAP_ACCESSIBLE' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="handicapAccessible-no"
                             [value]="false"
                             formControlName="handicapAccessible">
                      <label for="handicapAccessible-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="handicapAccessible-na"
                             [value]="null"
                             formControlName="handicapAccessible">
                      <label for="handicapAccessible-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="handicapAccessible-yes"
                             [value]="true"
                             formControlName="handicapAccessible">
                      <label for="handicapAccessible-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.EXTERNAL_ISOLATION' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="externalIsolation-no"
                             [value]="false"
                             formControlName="externalIsolation">
                      <label for="externalIsolation-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="externalIsolation-na"
                             [value]="null"
                             formControlName="externalIsolation">
                      <label for="externalIsolation-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="externalIsolation-yes"
                             [value]="true"
                             formControlName="externalIsolation">
                      <label for="externalIsolation-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.BALCONY' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="balcony-no"
                             [value]="false"
                             formControlName="balcony"
                             (change)="onChangeBalcony()">
                      <label for="balcony-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="balcony-na"
                             [value]="null"
                             formControlName="balcony"
                             (change)="onChangeBalcony()">
                      <label for="balcony-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="balcony-yes"
                             [value]="true"
                             formControlName="balcony"
                             (change)="onChangeBalcony()">
                      <label for="balcony-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr *ngIf="balcony.value">
                  <td class="py-0 align-middle">{{ 'APARTMENT.SIZE_OF_THE_BALCONY' | translate }} (m<sup>2</sup>)</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="0"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="sizeOfBalcony">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('sizeOfBalcony').invalid && (apartmentForm.get('sizeOfBalcony').dirty || apartmentForm.get('sizeOfBalcony').touched)">
                      <span *ngIf="apartmentForm.get('sizeOfBalcony').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.GARDEN' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="garden-no"
                             [value]="false"
                             formControlName="garden"
                             (change)="onChangeGarden()">
                      <label for="garden-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="garden-na"
                             [value]="null"
                             formControlName="garden"
                             (change)="onChangeGarden()">
                      <label for="garden-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="garden-yes"
                             [value]="true"
                             formControlName="garden"
                             (change)="onChangeGarden()">
                      <label for="garden-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr *ngIf="garden.value">
                  <td class="py-0 align-middle">{{ 'APARTMENT.SIZE_OF_THE_GARDEN' | translate }} (m<sup>2</sup>)</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="0"
                           max="5000"
                           step="1"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="sizeOfGarden">
                    <div class="invalid-feedback d-block" *ngIf="sizeOfGarden.invalid && (sizeOfGarden.dirty || sizeOfGarden.touched)">
                      <span *ngIf="sizeOfGarden.errors.min"
                            translate
                            [translateParams]="{ min: sizeOfGarden.errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="sizeOfGarden.errors.max"
                            translate
                            [translateParams]="{ max: sizeOfGarden.errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="sizeOfGarden.errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.TERRACE' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="terrace-no"
                             [value]="false"
                             formControlName="terrace"
                             (change)="onChangeTerrace()">
                      <label for="terrace-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="terrace-na"
                             [value]="null"
                             formControlName="terrace"
                             (change)="onChangeTerrace()">
                      <label for="terrace-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="terrace-yes"
                             [value]="true"
                             formControlName="terrace"
                             (change)="onChangeTerrace()">
                      <label for="terrace-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr *ngIf="terrace.value">
                  <td class="py-0 align-middle">{{ 'APARTMENT.SIZE_OF_THE_TERRACE' | translate }} (m<sup>2</sup>)</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="1"
                           max="100"
                           step="1"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="sizeOfTerrace">
                    <div class="invalid-feedback d-block" *ngIf="sizeOfTerrace.invalid && (sizeOfTerrace.dirty || sizeOfTerrace.touched)">
                      <span *ngIf="sizeOfTerrace.errors.min"
                            translate
                            [translateParams]="{ min: sizeOfTerrace.errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="sizeOfTerrace.errors.max"
                            translate
                            [translateParams]="{ max: sizeOfTerrace.errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="sizeOfTerrace.errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.AIRCONDITIONER' | translate }}</td>
                  <td class="text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="airConditioner-no"
                             [value]="false"
                             formControlName="airConditioner">
                      <label for="airConditioner-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="airConditioner-na"
                             [value]="null"
                             formControlName="airConditioner">
                      <label for="airConditioner-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="airConditioner-yes"
                             [value]="true"
                             formControlName="airConditioner">
                      <label for="airConditioner-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="border-bottom py-0 align-middle">{{ 'APARTMENT.GARAGE' | translate }}</td>
                  <td class="border-bottom text-right pr-0">
                    <div class="switch">
                      <input type="radio"
                             id="garage-no"
                             [value]="false"
                             formControlName="garage">
                      <label for="garage-no">{{ 'COMMON.NO' | translate }}</label>
                      <input type="radio"
                             id="garage-na"
                             [value]="null"
                             formControlName="garage">
                      <label for="garage-na">{{ 'COMMON.NA' | translate }}</label>
                      <input type="radio"
                             id="garage-yes"
                             [value]="true"
                             formControlName="garage">
                      <label for="garage-yes">{{ 'COMMON.YES' | translate }}</label>
                      <span class="slider"></span>
                    </div>
                  </td>
                </tr>
              </table>
              <table class="table mt-5">
                <tr>
                  <td class="border-top-0 py-0 align-middle">{{ 'APARTMENT.RENTAL_FEE' | translate }}</td>
                  <td class="border-top-0 text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="1000"
                           max="2000000"
                           step="1000"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="rentalFee">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('rentalFee').invalid && (apartmentForm.get('rentalFee').dirty || apartmentForm.get('rentalFee').touched)">
                      <span *ngIf="apartmentForm.get('rentalFee').errors.required">{{ 'ERROR.FIELD_REQUIRED' | translate }}</span>
                      <span *ngIf="apartmentForm.get('rentalFee').errors.min"
                            translate [translateParams]="{ min: apartmentForm.get('rentalFee').errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('rentalFee').errors.max"
                            translate [translateParams]="{ max: apartmentForm.get('rentalFee').errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('rentalFee').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'COMMON.OVERHEAD' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="1000"
                           max="1000000"
                           step="1000"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="overhead">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('overhead').invalid && (apartmentForm.get('overhead').dirty || apartmentForm.get('overhead').touched)">
                      <span *ngIf="apartmentForm.get('overhead').errors.min"
                            translate [translateParams]="{ min: apartmentForm.get('overhead').errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('overhead').errors.max"
                            translate [translateParams]="{ max: apartmentForm.get('overhead').errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('overhead').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.DEPOSIT' | translate }}</td>
                  <td class="text-right py-0 pr-0">
                    <input type="number"
                           class="form-control border-0 text-right"
                           min="1000"
                           max="2000000"
                           step="1000"
                           inputmode="numeric"
                           pattern="[0-9]*"
                           formControlName="deposit">
                    <div class="invalid-feedback d-block" *ngIf="apartmentForm.get('deposit').invalid && (apartmentForm.get('deposit').dirty || apartmentForm.get('deposit').touched)">
                      <span *ngIf="apartmentForm.get('deposit').errors.min"
                            translate [translateParams]="{ min: apartmentForm.get('deposit').errors.min.min }">
                        ERROR.MIN_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('deposit').errors.max"
                            translate [translateParams]="{ max: apartmentForm.get('deposit').errors.max.max }">
                        ERROR.MAX_FIELD
                      </span>
                      <span *ngIf="apartmentForm.get('deposit').errors.pattern">{{ 'ERROR.INTEGER_FIELD' | translate }}</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-0 align-middle">{{ 'APARTMENT.MINIMUM_RENTING_TIME' | translate }} ({{ 'COMMON.MONTHS' | translate }})</td>
                  <td class="text-right py-0 pr-0">
                    <select class="custom-select border-0 w-auto"
                            formControlName="minimumRentingTime">
                      <option [ngValue]="null">{{ 'COMMON.NOT_SELECTED' | translate }}</option>
                      <option *ngFor="let month of arrayNumber(121); let i = index"
                              [value]="i">{{ i }}</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="border-bottom align-middle">{{ 'COMMON.DATE_OF_MOVING_IN' | translate }}</td>
                  <td class="border-bottom text-right pr-0" formGroupName="dateOfMovingIn">
                    <div>
                      <label class="font-size-base font-weight-normal mb-0 mr-3 align-middle">{{ 'COMMON.RIGHT_NOW' | translate }}</label>
                      <label class="switch-toggle">
                        <input type="checkbox"
                               formControlName="rightNow"
                               (change)="onChangeRightNow()">
                        <span class="slider round"></span>
                      </label>
                    </div>
                    <div *ngIf="!rightNow.value">
                      <input class="form-control text-right mt-2"
                             placeholder="{{ 'COMMON.YMD' | translate }}"
                             ngbDatepicker
                             #d="ngbDatepicker"
                             (click)="d.toggle()"
                             formControlName="date">
                    </div>
                  </td>
                </tr>
              </table>
              <div class="buttons">
                <button type="submit"
                        class="btn btn-outline-primary btn-lg w-100">{{ 'COMMON.SAVE' | translate }}</button>
                <button type="button"
                        class="btn btn-outline-danger btn-lg w-100 mt-2"
                        (click)="onOpenConfirmModal()">{{ 'COMMON.DELETE' | translate }}</button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
